type Gif {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  url: String!
  width: String
  height: String
  giphyId: String
  entry: Entry! @relation(link: TABLE, name: "EntryGIF")
}

type User {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  name: String! @unique
  expoPushToken: String @unique
  entries: [Entry!]! @relation(name: "EntriesByUser", onDelete: CASCADE)
  rooms: [Room!]! @relation(name: "UsersByRooms")
}

type Entry {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  user: User! @relation(link: TABLE, name: "EntriesByUser")
  gif: Gif! @relation(name: "EntryGIF", onDelete: CASCADE)
  room: Room @relation(link: TABLE, name: "EntriesByRoom")
}

type Room {
  id: ID! @id
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  name: String! @unique
  users: [User!]! @relation(name: "UsersByRooms")
  entries: [Entry!]! @relation(name: "EntriesByUser", onDelete: CASCADE)
}
